import { Component } from "@angular/core";
import { ActivatedRoute, Router } from "@angular/router";
import { EmrService } from "@app/_services/emr.service";
import { environment } from "@environments/environment";

@Component({
    templateUrl: 'KhoiTao.html',
    styleUrls: ['KhoiTao.scss']
})
export class KhoiTaoComponent {

    constructor(
        private router: Router,
        private activeRoute: ActivatedRoute,
        private emrService: EmrService
    ) {
        this.activeRoute.queryParams.subscribe(params => {

            if (params && params[`${environment.ID_BENH_AN}`]) {
                debugger
                this.emrService.SetIdBenhAn(params[`${environment.ID_BENH_AN}`]);
                this.emrService.SetDataBenhAn();
                this.router.navigate([`/${environment.ROUTE_QUAN_TRI}`]);
            }

        });
    }
}